<!DOCTYPE html>
<html lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="description" content="A pure Ruby client for Apache Cassandra">
    <meta name="author" content="DataStax">

    <title>Ruby Driver for Apache Cassandra - Future</title>

    <link rel="icon" href="../../../favicon.ico">
    <link rel="apple-touch-icon" href="../../../favicon.png">
    <link href="../../../css/style.css" rel="stylesheet">
    <link href="../../../css/pygments.css" rel="stylesheet">
    <link href="../../../css/hotkeys.css" rel="stylesheet">

    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body ng-app="docs" data-spy="scroll" data-target=".side-nav">
    <header class="navbar navbar-default navbar-static-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../">Ruby Driver for Apache Cassandra</a>
        </div>
        <div class="collapse navbar-collapse" ng-controller="search">
          <ul class="nav navbar-nav">
            
            
            
            <li>
              <a href="../../features/">Features</a>
            </li>
            
            
            <li class="active">
              <a href="../">API docs</a>
            </li>
            
          </ul>
          <form class="navbar-form form-search navbar-right dropdown visible-lg-block" ng-class="{open: hasResults}" role="search" ng-submit="submit()">
            <div class="form-group has-feedback">
              <input type="search" class="form-control input-sm mousetrap" placeholder="Search..." ng-model="q" ng-change="search('v1.0.0-rc.1')" ng-disabled="!searchReady" disabled data-hotkey="{down: moveDown, up: moveUp, esc: reset}" data-search>
            </div>
            <ul class="dropdown-menu" role="menu">
              <li ng-repeat="result in results" ng-class="{'bg-warning': $index == current}"><a ng-href="{{basePath}}{{result.path}}"><span ng-bind-html="summary(result)"></span></a></li>
            </ul>
          </form>
        </div>
      </div>
    </header>

    <div class="container" id="content">
      <div class="row">
        <div class="col-md-9 content">
          <nav class="crumbs">
            <ol class="breadcrumb">
              
              <li>
                <div class="dropdown">
                  <button id="current-version" class="btn btn-default btn-sm" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    v1.0.0-rc.1
                    <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="current-version">
                  
                    <li><a href="../../../api/future/">v2.1.3</a></li>
                  
                    <li><a href="../../../v2.0.1/api/future/">v2.0.1</a></li>
                  
                    <li><a href="../../../v1.2.0/api/future/">v1.2.0</a></li>
                  
                    <li><a href="../../../v1.1.1/api/future/">v1.1.1</a></li>
                  
                    <li><a href="../../../v1.0.0/api/future/">v1.0.0</a></li>
                  
                    <li class="disabled"><a href="./">v1.0.0-rc.1</a></li>
                  
                    <li><a href="../../../v1.0.0-beta.3/api/future/">v1.0.0-beta.3</a></li>
                  
                    <li><a href="../../../v1.0.0-beta.2/api/future/">v1.0.0-beta.2</a></li>
                  
                    <li><a href="../../../v1.0.0-beta.1/api/future/">v1.0.0-beta.1</a></li>
                  
                  </ul>
                </div>
              </li>
              
              
              
              
              <li><a href="../../">Home</a></li>
              
              
              
              
              
              <li><a href="../">Cassandra</a></li>
              
              
              
              
              
              <li class="active">Future</li>
              
              
              
            </ol>
          </nav>
          

<div class="page-header">
  <h1 id="class-cassandra-future">
<small>
  class</small> Cassandra::Future<a class="anchor" href="#class-cassandra-future" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
</h1>
</div>
<p>A Future represents a result of asynchronous execution. It can be used to
block until a value is available or an error has happened, or register a
listener to be notified whenever the execution is complete.</p>

<dl class="dl-horizontal notes">

</dl>


<h2 id="inherits">Inherits<a class="anchor" href="#inherits" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
</h2>
<div class="superclass"><code>Object</code></div>







<h2 id="classes">Classes<a class="anchor" href="#classes" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
</h2>
<div class="child-classes">
  <ul class="list-inline">
    
    <li><code><a href="listener/" title="Cassandra::Future::Listener (class)">Listener</a></code></li>
    
  </ul>
</div>

<h2 id="methods">Methods<a class="anchor" href="#methods" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
</h2>
<div class="module-methods">
  
    <div class="panel panel-default member-definition" id="value-class_method">
  <div class="panel-heading method-header">
  
    
      <em>self.</em><span class="path"><strong>value</strong></span><big>(</big><var>value</var><big>)</big> 
    
  
  
  
    <a class="anchor" href="#value-class_method" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
  </div>
  <div class="panel-body method-body">
    <p>Returns a future resolved to a given value</p>

<dl class="dl-horizontal notes">

</dl>
<dl class="tags">
  
<dt class="tag-title">
  Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>value</var></td>
        
        
        <td class="type"><code>Object</code></td>
        
        <td class="details">
          
          
          value for the future

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type">
<code><a href="./" title="Cassandra::Future (class)">Future</a></code>&lt;<code>Object</code>&gt;</td>
        
        <td class="details">
          
          
          a future value

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>


</dl>
  </div>
</div>

  
    <div class="panel panel-default member-definition" id="error-class_method">
  <div class="panel-heading method-header">
  
    
      <em>self.</em><span class="path"><strong>error</strong></span><big>(</big><var>error</var><big>)</big> 
    
  
  
  
    <a class="anchor" href="#error-class_method" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
  </div>
  <div class="panel-body method-body">
    <p>Returns a future resolved to a given error</p>

<dl class="dl-horizontal notes">

</dl>
<dl class="tags">
  
<dt class="tag-title">
  Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>error</var></td>
        
        
        <td class="type"><code>Exception</code></td>
        
        <td class="details">
          
          
          error for the future

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type">
<code><a href="./" title="Cassandra::Future (class)">Future</a></code>&lt;<code>Exception</code>&gt;</td>
        
        <td class="details">
          
          
          a future error

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>


</dl>
  </div>
</div>

  
    <div class="panel panel-default member-definition" id="all-class_method">
  <div class="panel-heading method-header">
  
    
      <em>self.</em><span class="path"><strong>all</strong></span><big>(</big><var>*futures</var><big>)</big> 
    
  
  
  
    <a class="anchor" href="#all-class_method" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
  </div>
  <div class="panel-body method-body">
    <p>Returns a future that resolves with values of all futures</p>

<dl class="dl-horizontal notes">

</dl>
<dl class="tags">
  

  <dt class="tag-title">Overloads:</dt>
  <dd class="tag-content">
    
      
      <div class="panel panel-default">
        <div class="panel-heading overload-header">
          <em>self.</em><span class="path"><strong>all</strong></span>(*futures) 
        </div>
        <div class="panel-body overload-body">
          <p>Returns a combined future</p>

<dl class="dl-horizontal notes">

</dl>
<dl class="tags">
  
<dt class="tag-title">
  Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>*futures</var></td>
        
        
        <td class="type"><code><a href="./" title="Cassandra::Future (class)">Future</a></code></td>
        
        <td class="details">
          
          
          futures to combine

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type">
<code><a href="./" title="Cassandra::Future (class)">Future</a></code>&lt;<code>Array</code>&lt;<code>Object</code>&gt;&gt;</td>
        
        <td class="details">
          
          
          a combined future

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>


</dl>
        </div>
      </div>
    
      
      <div class="panel panel-default">
        <div class="panel-heading overload-header">
          <em>self.</em><span class="path"><strong>all</strong></span>(futures) 
        </div>
        <div class="panel-body overload-body">
          <p>Returns a combined future</p>

<dl class="dl-horizontal notes">

</dl>
<dl class="tags">
  
<dt class="tag-title">
  Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>futures</var></td>
        
        
        <td class="type">
<code>Enumerable</code>&lt;<code><a href="./" title="Cassandra::Future (class)">Future</a></code>&gt;</td>
        
        <td class="details">
          
          
          list of futures to
combine

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type">
<code><a href="./" title="Cassandra::Future (class)">Future</a></code>&lt;<code>Array</code>&lt;<code>Object</code>&gt;&gt;</td>
        
        <td class="details">
          
          
          a combined future

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>


</dl>
        </div>
      </div>
    
  </dd>



</dl>
  </div>
</div>

  
    <div class="panel panel-default member-definition" id="on_success-instance_method">
  <div class="panel-heading method-header">
  
    
      <span class="path"><strong>on_success</strong></span> {|value| &#8230; }
    
  
  
  
    <a class="anchor" href="#on_success-instance_method" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
  </div>
  <div class="panel-body method-body">
    <p>Run block when future resolves to a value</p>

<dl class="dl-horizontal notes">

<dt><span class="label label-primary">Note</span></dt>
<dd>The block can be called synchronously from current thread if the
future has already been resolved, or, asynchronously, from background
thread upon resolution.
</dd>


</dl>
<dl class="tags">
  

<dt class="tag-title">
  Yield Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>value</var></td>
        
        
        <td class="type"><code>Object</code></td>
        
        <td class="details">
          
          
          a value

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>self</code></td>
        
        <td class="details">
          
          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Raises:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>ArgumentError</code></td>
        
        <td class="details">
          
          
          if no block given

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

<dt class="tag-title">Specifications:</dt>
<dd class="tag-content">
  <dl class="specs">
  
    
    
    
    <dt class="spec-title">
<code>Future#on_success</code> raises if no block given
</dt>
    
    
    
    <dd class="spec-code"><pre class="highlight"><code><span class="n">expect</span> <span class="p">{</span> <span class="n">future</span><span class="p">.</span><span class="nf">on_success</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">raise_error</span><span class="p">(</span><span class="o">::</span><span class="no">ArgumentError</span><span class="p">,</span> <span class="s2">"no block given"</span><span class="p">)</span></code></pre></dd>
  
    
    
    
    <dt class="spec-title">
<code>Future#on_success</code> delegates to signal
</dt>
    
    
    
    <dd class="spec-code"><pre class="highlight"><code><span class="n">expect</span><span class="p">(</span><span class="n">signal</span><span class="p">).</span><span class="nf">to</span> <span class="n">receive</span><span class="p">(</span><span class="ss">:on_success</span><span class="p">).</span><span class="nf">once</span>
<span class="n">future</span><span class="p">.</span><span class="nf">on_success</span> <span class="p">{</span><span class="o">|</span><span class="n">value</span><span class="o">|</span> <span class="kp">nil</span><span class="p">}</span></code></pre></dd>
  
  </dl>
</dd>


</dl>
  </div>
</div>

  
    <div class="panel panel-default member-definition" id="join-instance_method">
  <div class="panel-heading method-header">
  
    
      <span class="path"><strong>join</strong></span> 
    
  
  
  
    <a class="anchor" href="#join-instance_method" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
  </div>
  <div class="panel-body method-body">
    <p>Block until the future has been resolved</p>

<dl class="dl-horizontal notes">

<dt><span class="label label-primary">Note</span></dt>
<dd>This method blocks until a future is resolved
</dd>

<dt><span class="label label-primary">Note</span></dt>
<dd>This method won&#8217;t raise any errors or return anything but the
future itself
</dd>


</dl>
<dl class="tags">
  

<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>self</code></td>
        
        <td class="details">
          
          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

<dt class="tag-title">Specifications:</dt>
<dd class="tag-content">
  <dl class="specs">
  
    
    
    
    <dt class="spec-title">
<code>Future#join</code> delegates to signal
</dt>
    
    
    
    <dd class="spec-code"><pre class="highlight"><code><span class="n">expect</span><span class="p">(</span><span class="n">signal</span><span class="p">).</span><span class="nf">to</span> <span class="n">receive</span><span class="p">(</span><span class="ss">:join</span><span class="p">).</span><span class="nf">once</span>
<span class="n">future</span><span class="p">.</span><span class="nf">join</span></code></pre></dd>
  
  </dl>
</dd>


</dl>
  </div>
</div>

  
    <div class="panel panel-default member-definition" id="get-instance_method">
  <div class="panel-heading method-header">
  
    
      <span class="path"><strong>get</strong></span> 
    
  
  
  
    <a class="anchor" href="#get-instance_method" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
  </div>
  <div class="panel-body method-body">
    <p>Returns future value or raises future error</p>

<dl class="dl-horizontal notes">

<dt><span class="label label-primary">Note</span></dt>
<dd>This method blocks until a future is resolved
</dd>


</dl>
<dl class="tags">
  

<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>Object</code></td>
        
        <td class="details">
          
          
          value used to resolve this future if any

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Raises:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>Exception</code></td>
        
        <td class="details">
          
          
          error used to resolve this future if any

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

<dt class="tag-title">Specifications:</dt>
<dd class="tag-content">
  <dl class="specs">
  
    
    
    
    <dt class="spec-title">
<code>Future#get</code> delegates to signal
</dt>
    
    
    
    <dd class="spec-code"><pre class="highlight"><code><span class="n">expect</span><span class="p">(</span><span class="n">signal</span><span class="p">).</span><span class="nf">to</span> <span class="n">receive</span><span class="p">(</span><span class="ss">:get</span><span class="p">).</span><span class="nf">once</span>
<span class="n">future</span><span class="p">.</span><span class="nf">get</span></code></pre></dd>
  
  </dl>
</dd>


</dl>
  </div>
</div>

  
    <div class="panel panel-default member-definition" id="on_failure-instance_method">
  <div class="panel-heading method-header">
  
    
      <span class="path"><strong>on_failure</strong></span> {|error| &#8230; }
    
  
  
  
    <a class="anchor" href="#on_failure-instance_method" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
  </div>
  <div class="panel-body method-body">
    <p>Run block when future resolves to error</p>

<dl class="dl-horizontal notes">

<dt><span class="label label-primary">Note</span></dt>
<dd>The block can be called synchronously from current thread if the
future has already been resolved, or, asynchronously, from background
thread upon resolution.
</dd>


</dl>
<dl class="tags">
  

<dt class="tag-title">
  Yield Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>error</var></td>
        
        
        <td class="type"><code>Exception</code></td>
        
        <td class="details">
          
          
          an error

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>self</code></td>
        
        <td class="details">
          
          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Raises:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>ArgumentError</code></td>
        
        <td class="details">
          
          
          if no block given

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

<dt class="tag-title">Specifications:</dt>
<dd class="tag-content">
  <dl class="specs">
  
    
    
    
    <dt class="spec-title">
<code>Future#on_failure</code> raises if no block given
</dt>
    
    
    
    <dd class="spec-code"><pre class="highlight"><code><span class="n">expect</span> <span class="p">{</span> <span class="n">future</span><span class="p">.</span><span class="nf">on_failure</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">raise_error</span><span class="p">(</span><span class="o">::</span><span class="no">ArgumentError</span><span class="p">,</span> <span class="s2">"no block given"</span><span class="p">)</span></code></pre></dd>
  
    
    
    
    <dt class="spec-title">
<code>Future#on_failure</code> delegates to signal
</dt>
    
    
    
    <dd class="spec-code"><pre class="highlight"><code><span class="n">expect</span><span class="p">(</span><span class="n">signal</span><span class="p">).</span><span class="nf">to</span> <span class="n">receive</span><span class="p">(</span><span class="ss">:on_failure</span><span class="p">).</span><span class="nf">once</span>
<span class="n">future</span><span class="p">.</span><span class="nf">on_failure</span> <span class="p">{</span><span class="o">|</span><span class="n">error</span><span class="o">|</span> <span class="kp">nil</span><span class="p">}</span></code></pre></dd>
  
  </dl>
</dd>


</dl>
  </div>
</div>

  
    <div class="panel panel-default member-definition" id="on_complete-instance_method">
  <div class="panel-heading method-header">
  
    
      <span class="path"><strong>on_complete</strong></span> {|value, error| &#8230; }
    
  
  
  
    <a class="anchor" href="#on_complete-instance_method" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
  </div>
  <div class="panel-body method-body">
    <p>Run block when future resolves. The block will always be called with 2
  arguments - value and error. In case a future resolves to an error, the
  error argument will be non-nil.</p>

<dl class="dl-horizontal notes">

<dt><span class="label label-primary">Note</span></dt>
<dd>The block can be called synchronously from current thread if the
future has already been resolved, or, asynchronously, from background
thread upon resolution.
</dd>


</dl>
<dl class="tags">
  

<dt class="tag-title">
  Yield Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>value</var></td>
        
        
        <td class="type">(<code>Object</code> or <code>nil</code>)</td>
        
        <td class="details">
          
          
          a value or nil

          
        </td>
      </tr>
    
      <tr>
        
        <td class="name"><var>error</var></td>
        
        
        <td class="type">(<code>Exception</code> or <code>nil</code>)</td>
        
        <td class="details">
          
          
          an error or nil

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>self</code></td>
        
        <td class="details">
          
          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Raises:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>ArgumentError</code></td>
        
        <td class="details">
          
          
          if no block given

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

<dt class="tag-title">Specifications:</dt>
<dd class="tag-content">
  <dl class="specs">
  
    
    
    
    <dt class="spec-title">
<code>Future#on_complete</code> raises if no block given
</dt>
    
    
    
    <dd class="spec-code"><pre class="highlight"><code><span class="n">expect</span> <span class="p">{</span> <span class="n">future</span><span class="p">.</span><span class="nf">on_complete</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">raise_error</span><span class="p">(</span><span class="o">::</span><span class="no">ArgumentError</span><span class="p">,</span> <span class="s2">"no block given"</span><span class="p">)</span></code></pre></dd>
  
    
    
    
    <dt class="spec-title">
<code>Future#on_complete</code> delegates to signal
</dt>
    
    
    
    <dd class="spec-code"><pre class="highlight"><code><span class="n">expect</span><span class="p">(</span><span class="n">signal</span><span class="p">).</span><span class="nf">to</span> <span class="n">receive</span><span class="p">(</span><span class="ss">:on_complete</span><span class="p">).</span><span class="nf">once</span>
<span class="n">future</span><span class="p">.</span><span class="nf">on_complete</span> <span class="p">{</span><span class="o">|</span><span class="n">error</span><span class="p">,</span> <span class="n">value</span><span class="o">|</span> <span class="kp">nil</span><span class="p">}</span></code></pre></dd>
  
  </dl>
</dd>


</dl>
  </div>
</div>

  
    <div class="panel panel-default member-definition" id="add_listener-instance_method">
  <div class="panel-heading method-header">
  
    
      <span class="path"><strong>add_listener</strong></span><big>(</big><var>listener</var><big>)</big> 
    
  
  
  
    <a class="anchor" href="#add_listener-instance_method" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
  </div>
  <div class="panel-body method-body">
    <p>Add future listener</p>

<dl class="dl-horizontal notes">

<dt><span class="label label-primary">Note</span></dt>
<dd>The listener can be notified synchronously, from current thread, if
the future has already been resolved, or, asynchronously, from
background thread upon resolution.
</dd>

<dt><span class="label label-primary">Note</span></dt>
<dd>that provided listener doesn&#8217;t have to extend
<code><a href="listener/" title="Cassandra::Future::Listener (class)">Listener</a></code>, only conform to the same interface
</dd>


</dl>
<dl class="tags">
  
<dt class="tag-title">
  Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>listener</var></td>
        
        
        <td class="type"><code><a href="listener/" title="Cassandra::Future::Listener (class)">Future::Listener</a></code></td>
        
        <td class="details">
          
          
          an object that responds to
<code>#success</code> and <code>#failure</code>

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>self</code></td>
        
        <td class="details">
          
          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

<dt class="tag-title">Specifications:</dt>
<dd class="tag-content">
  <dl class="specs">
  
    
    
    
    <dt class="spec-title">
<code>Future#add_listener</code> raises if listener doesn&#39;t respond to #success and #failure
</dt>
    
    
    
    <dd class="spec-code"><pre class="highlight"><code><span class="n">expect</span><span class="p">(</span><span class="n">listener</span><span class="p">).</span><span class="nf">to</span> <span class="n">receive</span><span class="p">(</span><span class="ss">:respond_to?</span><span class="p">).</span><span class="nf">and_return</span><span class="p">(</span><span class="kp">false</span><span class="p">)</span>
<span class="n">expect</span> <span class="p">{</span> <span class="n">future</span><span class="p">.</span><span class="nf">add_listener</span><span class="p">(</span><span class="n">listener</span><span class="p">)</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">raise_error</span><span class="p">(</span><span class="o">::</span><span class="no">ArgumentError</span><span class="p">,</span> <span class="s2">"listener must respond to both #success and #failure"</span><span class="p">)</span></code></pre></dd>
  
    
    
    
    <dt class="spec-title">
<code>Future#add_listener</code> delegates to signal
</dt>
    
    
    
    <dd class="spec-code"><pre class="highlight"><code><span class="n">expect</span><span class="p">(</span><span class="n">listener</span><span class="p">).</span><span class="nf">to</span> <span class="n">receive</span><span class="p">(</span><span class="ss">:respond_to?</span><span class="p">).</span><span class="nf">with</span><span class="p">(</span><span class="ss">:success</span><span class="p">).</span><span class="nf">and_return</span><span class="p">(</span><span class="kp">true</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="n">listener</span><span class="p">).</span><span class="nf">to</span> <span class="n">receive</span><span class="p">(</span><span class="ss">:respond_to?</span><span class="p">).</span><span class="nf">with</span><span class="p">(</span><span class="ss">:failure</span><span class="p">).</span><span class="nf">and_return</span><span class="p">(</span><span class="kp">true</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="n">signal</span><span class="p">).</span><span class="nf">to</span> <span class="n">receive</span><span class="p">(</span><span class="ss">:add_listener</span><span class="p">).</span><span class="nf">once</span><span class="p">.</span><span class="nf">with</span><span class="p">(</span><span class="n">listener</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="n">future</span><span class="p">.</span><span class="nf">add_listener</span><span class="p">(</span><span class="n">listener</span><span class="p">)).</span><span class="nf">to</span> <span class="n">eq</span><span class="p">(</span><span class="n">future</span><span class="p">)</span></code></pre></dd>
  
  </dl>
</dd>


</dl>
  </div>
</div>

  
    <div class="panel panel-default member-definition" id="then-instance_method">
  <div class="panel-heading method-header">
  
    
      <span class="path"><strong>then</strong></span> {|value| &#8230; }
    
  
  
  
    <a class="anchor" href="#then-instance_method" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
  </div>
  <div class="panel-body method-body">
    <p>Returns a new future that will resolve to the result of the block.
Besides regular values, block can return other futures, which will be
transparently unwrapped before resolving the future from this method.</p>

<dl class="dl-horizontal notes">

<dt><span class="label label-primary">Note</span></dt>
<dd>The block can be called synchronously from current thread if the
future has already been resolved, or, asynchronously, from background
thread upon resolution.
</dd>


</dl>
<dl class="tags">
  
<dt class="tag-title">Examples:</dt>
<dd class="tag-content">
  <dl class="examples">
  
    
    <dt class="example-title">Block returns a value
</dt>
    
    <dd class="example-code"><pre class="highlight"><code><span class="n">future_users</span> <span class="o">=</span> <span class="n">session</span><span class="p">.</span><span class="nf">execute_async</span><span class="p">(</span><span class="s1">'SELECT * FROM users WHERE user_name = ?'</span><span class="p">,</span> <span class="s1">'Sam'</span><span class="p">)</span>
<span class="n">future_user</span>  <span class="o">=</span> <span class="n">future_users</span><span class="p">.</span><span class="nf">then</span> <span class="p">{</span><span class="o">|</span><span class="n">users</span><span class="o">|</span> <span class="n">users</span><span class="p">.</span><span class="nf">first</span><span class="p">}</span></code></pre></dd>
  
    
    <dt class="example-title">Block returns a future
</dt>
    
    <dd class="example-code"><pre class="highlight"><code><span class="n">future_statement</span> <span class="o">=</span> <span class="n">session</span><span class="p">.</span><span class="nf">prepare_async</span><span class="p">(</span><span class="s1">'SELECT * FROM users WHERE user_name = ?'</span><span class="p">)</span>
<span class="n">future_users</span>     <span class="o">=</span> <span class="n">future_statement</span><span class="p">.</span><span class="nf">then</span> <span class="p">{</span><span class="o">|</span><span class="n">statement</span><span class="o">|</span> <span class="n">session</span><span class="p">.</span><span class="nf">execute_async</span><span class="p">(</span><span class="n">statement</span><span class="p">,</span> <span class="s1">'Sam'</span><span class="p">)}</span></code></pre></dd>
  
  </dl>
</dd>


<dt class="tag-title">
  Yield Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>value</var></td>
        
        
        <td class="type"><code>Object</code></td>
        
        <td class="details">
          
          
          a value

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Yield Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type">(<code><a href="./" title="Cassandra::Future (class)">Future</a></code> or <code>Object</code>)</td>
        
        <td class="details">
          
          
          a future or a value to be
wrapped in a future

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code><a href="./" title="Cassandra::Future (class)">Future</a></code></td>
        
        <td class="details">
          
          
          a new future

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Raises:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>ArgumentError</code></td>
        
        <td class="details">
          
          
          if no block given

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

<dt class="tag-title">Specifications:</dt>
<dd class="tag-content">
  <dl class="specs">
  
    
    
    
    <dt class="spec-title">
<code>Future#then</code> raises if no block given
</dt>
    
    
    
    <dd class="spec-code"><pre class="highlight"><code><span class="n">expect</span> <span class="p">{</span> <span class="n">future</span><span class="p">.</span><span class="nf">then</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">raise_error</span><span class="p">(</span><span class="no">ArgumentError</span><span class="p">,</span> <span class="s2">"no block given"</span><span class="p">)</span></code></pre></dd>
  
    
    
    
    <dt class="spec-title">
<code>Future#then</code> delegates to signal
</dt>
    
    
    
    <dd class="spec-code"><pre class="highlight"><code><span class="n">expect</span><span class="p">(</span><span class="n">signal</span><span class="p">).</span><span class="nf">to</span> <span class="n">receive</span><span class="p">(</span><span class="ss">:then</span><span class="p">).</span><span class="nf">once</span>
<span class="n">future</span><span class="p">.</span><span class="nf">then</span> <span class="p">{</span><span class="o">|</span><span class="n">v</span><span class="o">|</span> <span class="kp">nil</span><span class="p">}</span></code></pre></dd>
  
  </dl>
</dd>


</dl>
  </div>
</div>

  
    <div class="panel panel-default member-definition" id="fallback-instance_method">
  <div class="panel-heading method-header">
  
    
      <span class="path"><strong>fallback</strong></span> {|error| &#8230; }
    
  
  
  
    <a class="anchor" href="#fallback-instance_method" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
  </div>
  <div class="panel-body method-body">
    <p>Returns a new future that will resolve to the result of the block in case
of an error. Besides regular values, block can return other futures,
which will be transparently unwrapped before resolving the future from
this method.</p>

<dl class="dl-horizontal notes">

<dt><span class="label label-primary">Note</span></dt>
<dd>The block can be called synchronously from current thread if the
future has already been resolved, or, asynchronously, from background
thread upon resolution.
</dd>


</dl>
<dl class="tags">
  
<dt class="tag-title">Examples:</dt>
<dd class="tag-content">
  <dl class="examples">
  
    
    <dt class="example-title">Recovering from errors
</dt>
    
    <dd class="example-code"><pre class="highlight"><code><span class="n">future_error</span> <span class="o">=</span> <span class="n">session</span><span class="p">.</span><span class="nf">execute_async</span><span class="p">(</span><span class="s1">'SELECT * FROM invalid-table'</span><span class="p">)</span>
<span class="n">future</span>       <span class="o">=</span> <span class="n">future_error</span><span class="p">.</span><span class="nf">fallback</span> <span class="p">{</span><span class="o">|</span><span class="n">error</span><span class="o">|</span> <span class="s2">"Execution failed with </span><span class="si">#{</span><span class="n">error</span><span class="p">.</span><span class="nf">class</span><span class="p">.</span><span class="nf">name</span><span class="si">}</span><span class="s2">: </span><span class="si">#{</span><span class="n">error</span><span class="p">.</span><span class="nf">message</span><span class="si">}</span><span class="s2">"</span><span class="p">}</span></code></pre></dd>
  
    
    <dt class="example-title">Executing something else on error
</dt>
    
    <dd class="example-code"><pre class="highlight"><code><span class="n">future_error</span> <span class="o">=</span> <span class="n">session</span><span class="p">.</span><span class="nf">execute_async</span><span class="p">(</span><span class="s1">'SELECT * FROM invalid-table'</span><span class="p">)</span>
<span class="n">future</span>       <span class="o">=</span> <span class="n">future_error</span><span class="p">.</span><span class="nf">fallback</span> <span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">session</span><span class="p">.</span><span class="nf">execute_async</span><span class="p">(</span><span class="s1">'SELECT * FROM another-table'</span><span class="p">)}</span></code></pre></dd>
  
  </dl>
</dd>


<dt class="tag-title">
  Yield Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>error</var></td>
        
        
        <td class="type"><code>Exception</code></td>
        
        <td class="details">
          
          
          an error

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Yield Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type">(<code><a href="./" title="Cassandra::Future (class)">Future</a></code> or <code>Object</code>)</td>
        
        <td class="details">
          
          
          a future or a value to be
wrapped in a future

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code><a href="./" title="Cassandra::Future (class)">Future</a></code></td>
        
        <td class="details">
          
          
          a new future

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Raises:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>ArgumentError</code></td>
        
        <td class="details">
          
          
          if no block given

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

<dt class="tag-title">Specifications:</dt>
<dd class="tag-content">
  <dl class="specs">
  
    
    
    
    <dt class="spec-title">
<code>Future#fallback</code> raises of no block given
</dt>
    
    
    
    <dd class="spec-code"><pre class="highlight"><code><span class="n">expect</span> <span class="p">{</span> <span class="n">future</span><span class="p">.</span><span class="nf">fallback</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">raise_error</span><span class="p">(</span><span class="no">ArgumentError</span><span class="p">,</span> <span class="s2">"no block given"</span><span class="p">)</span></code></pre></dd>
  
    
    
    
    <dt class="spec-title">
<code>Future#fallback</code> delegates to signal
</dt>
    
    
    
    <dd class="spec-code"><pre class="highlight"><code><span class="n">expect</span><span class="p">(</span><span class="n">signal</span><span class="p">).</span><span class="nf">to</span> <span class="n">receive</span><span class="p">(</span><span class="ss">:fallback</span><span class="p">).</span><span class="nf">once</span>
<span class="n">future</span><span class="p">.</span><span class="nf">fallback</span> <span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="kp">nil</span><span class="p">}</span></code></pre></dd>
  
  </dl>
</dd>


</dl>
  </div>
</div>

  
</div>


        </div>
        <div class="col-md-3">
          <div id="navigation" class="panel-group side-nav" data-spy="affix" data-offset-top="60" data-offset-bottom="80" role="tablist" aria-multiselectable="true">
            <div id="table-of-contents-panel" class="panel panel-default">
              <div id="table-of-contents-heading" class="panel-heading" role="tab">
                <h4 class="panel-title">
                  <a data-toggle="collapse" href="#table-of-contents" aria-expanded="true" aria-controls="table-of-contents">
                    Contents<i class="pull-right glyphicon glyphicon-chevron-up"></i>
                  </a>
                </h4>
              </div>
              <div id="table-of-contents" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="table-of-contents-heading">
                <div class="panel-body">
                  <ol class="nav nav-pills nav-stacked toc">
<li><a href="#inherits">Inherits
</a></li>
<li><a href="#classes">Classes
</a></li>
<li><a href="#methods">Methods
</a></li>
</ol>
                </div>
              </div>
            </div>

            
            <div id="read-more-panel" class="panel panel-default">
              <div id="read-more-heading" class="panel-heading" role="tab">
                <h4 class="panel-title">
                  <a data-toggle="collapse" href="#read-more" aria-expanded="true" aria-controls="read-more">
                    Read More<i class="pull-right glyphicon glyphicon-chevron-up"></i>
                  </a>
                </h4>
              </div>
              <div id="read-more" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="read-more-heading">
                <div class="panel-body">
                  <ol class="nav nav-pills nav-stacked">
                  
                    <li>
                      <a href="listener/">Listener</a>
                    </li>
                  
                  </ol>
                </div>
              </div>
            </div>
            
          </div>
        </div>
      </div>
    </div>

    
    <footer class="container text-muted">
      <ul class="list-inline">
      
        
        <li>
          <a href="https://github.com/datastax/ruby-driver/">Code</a>
        </li>
      
        <li>·</li>
        <li>
          <a href="http://datastax.github.io/ruby-driver/">Docs</a>
        </li>
      
        <li>·</li>
        <li>
          <a href="https://datastax-oss.atlassian.net/browse/RUBY/">Issues</a>
        </li>
      
        <li>·</li>
        <li>
          <a href="https://groups.google.com/a/lists.datastax.com/forum/#!forum/ruby-driver-user">Mailing List</a>
        </li>
      
        <li>·</li>
        <li>
          <a href="irc://irc.freenode.net/datastax-drivers">IRC Channel</a>
        </li>
      
        <li>·</li>
        <li>
          <a href="https://github.com/datastax/ruby-driver/releases">Releases</a>
        </li>
      
      </ul>
    </footer>
    

    <script src="../../../js/jquery.js"></script>
    <script src="../../../js/bootstrap.js"></script>
    <script src="../../../js/angular.js"></script>
    <script src="../../../js/mousetrap.js"></script>
    <script src="../../../js/hotkeys.js"></script>
    <script src="../../../js/ZeroClipboard.js"></script>
    <script src="../../../js/lunr.js"></script>
    <script src="../../../js/app.js"></script>
  </body>
</html>
